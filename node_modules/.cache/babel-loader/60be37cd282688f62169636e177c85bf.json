{"ast":null,"code":"// Copyright (c) 2019 Florian Klampfer <https://qwtel.com/>\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Observable, of } from 'rxjs';\n\n// HACK: Temporary MS Edge fix\n// TODO: Move rx-element into separate file or module\nexport { getScrollHeight, getScrollLeft, getScrollTop } from '@hydecorp/component/lib/util';\nexport { fromMediaQuery, fetchRx } from '@hydecorp/component/lib/creators';\nexport { subscribeWhen, filterWhen } from '@hydecorp/component/lib/operators';\nexport { createIntersectionObservable } from '@hydecorp/component/lib/observers';\nconst style = getComputedStyle(document.documentElement);\nexport const BREAK_POINT_3 = `(min-width: ${style.getPropertyValue('--break-point-3')})`;\nexport const BREAK_POINT_DYNAMIC = `(min-width: ${style.getPropertyValue('--break-point-dynamic')})`;\nexport const CONTENT_WIDTH_5 = parseFloat(style.getPropertyValue('--content-width-5'));\nexport const CONTENT_MARGIN_5 = parseFloat(style.getPropertyValue('--content-margin-5'));\nexport const DRAWER_WIDTH = parseFloat(style.getPropertyValue('--sidebar-width'));\nexport const HALF_CONTENT = parseFloat(style.getPropertyValue('--half-content'));\n\n// Check the user agent for Safari and iOS Safari, to give them some special treatment...\nconst ua = navigator.userAgent.toLowerCase();\nexport const isSafari = ua.indexOf('safari') > 0 && ua.indexOf('chrome') < 0;\nexport const isMobile = ua.indexOf('mobile') > 0;\nexport const isMobileSafari = isSafari && isMobile;\nexport const isUCBrowser = ua.indexOf('ucbrowser') > 0;\nexport const isFirefox = ua.indexOf('firefox') > 0;\nexport const isFirefoxIOS = ua.indexOf('fxios') > 0 && ua.indexOf('safari') > 0;\nexport const hasCSSOM = 'attributeStyleMap' in Element.prototype && 'CSS' in window && CSS.number;\nexport const webComponentsReady = new Promise(res => {\n  if ('customElements' in window) res(true);else document.addEventListener('WebComponentsReady', res);\n});\n\n// FIXME: Replace with something more robust!?\nexport const stylesheetReady = new Promise(function checkCSS(res, rej, retries = 30) {\n  const drawerEl = document.querySelector('hy-drawer');\n  if (!drawerEl) res(true);else if (getComputedStyle(drawerEl).getPropertyValue('--hy-drawer-width')) res(true);else if (retries <= 0) rej(Error('Stylesheet not loaded within 10 seconds'));else setTimeout(() => checkCSS(res, rej, retries - 1), 1000 / 3);\n});\nexport const once = (el, eventName) => new Promise(res => el.addEventListener(eventName, res, {\n  once: true\n}));\nexport const timeout = t => new Promise(res => setTimeout(res, t));\n\n// Takes an array of Modernizr feature tests and makes sure they all pass.\nexport function hasFeatures(features) {\n  if (!window.Modernizr) return true;\n  return [...features].every(feature => {\n    const hasFeature = window.Modernizr[feature];\n    if (!hasFeature && process.env.DEBUG) console.warn(`Feature '${feature}' missing!`);\n    return hasFeature;\n  });\n}\n\n// Some functions to hide and show content.\nexport function show() {\n  this.style.display = 'block';\n  this.style.visibility = 'visible';\n}\nexport function hide() {\n  this.style.display = 'none';\n  this.style.visibility = 'hidden';\n}\nexport function unshow() {\n  this.style.display = '';\n  this.style.visibility = '';\n}\nexport const unhide = unshow;\n\n// Same as `el.innerHTML = ''`, but not quite so hacky.\nexport function empty() {\n  while (this?.firstChild) this.removeChild(this.firstChild);\n}\n\n/**\n * An observable wrapper for the WebAnimations API.\n * Will return an observable that emits once when the animation finishes.\n * @param {HTMLElement|null} el\n * @param {AnimationKeyFrame | AnimationKeyFrame[] | null} effect\n * @param {number|AnimationEffectTiming} timing\n * @returns {Observable<Event>}\n */\nexport function animate(el, effect, timing) {\n  if (!el) return of(new CustomEvent('finish'));\n  return Observable.create(observer => {\n    const anim = el.animate(effect, timing);\n    anim.addEventListener('finish', e => {\n      observer.next(e);\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => observer.complete());\n      });\n    });\n    return () => {\n      if (anim.playState !== 'finished') anim.cancel();\n    };\n  });\n}\n\n/**\n * @param {string} templateId\n * @returns {HTMLElement|null}\n */\nexport function importTemplate(templateId) {\n  const template = document.getElementById(templateId);\n  return template && document.importNode(template.content, true);\n}\nexport const body = document.body || document.documentElement;\nexport const rem = units => units * parseFloat(getComputedStyle(body).fontSize);\nexport const getViewWidth = () => window.innerWidth || body.clientWidth;\nexport const getViewHeight = () => window.innerHeight || body.clientHeight;\n\n/**\n * @template Q\n * @template S\n * @param {Worker} worker\n * @param {Q} message\n * @returns {Promise<S>}\n */\nexport function postMessage(worker, message) {\n  return new Promise((resolve, reject) => {\n    const messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = event => {\n      if (event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data);\n      }\n    };\n    worker.postMessage(message, [messageChannel.port2]);\n  });\n}\nconst promisifyLoad = loadFn => href => new Promise(r => loadFn(href).addEventListener('load', r));\n\n/** @type {(href: string) => Promise<Event>} */\nexport const loadJS = promisifyLoad(window.loadJS);\n\n/** @type {(href: string) => Promise<Event>} */\nexport const loadCSS = promisifyLoad(window.loadCSS);\n\n/**\n * @param {ArrayLike<Element>} els\n * @param {IntersectionObserverInit} [options]\n * @returns {Promise<IntersectionObserverEntry>}\n */\nexport function intersectOnce(els, options) {\n  return new Promise(res => {\n    const io = new IntersectionObserver(entries => {\n      if (entries.some(x => x.isIntersecting)) {\n        els.forEach(el => io.unobserve(el));\n        res(entries.find(x => x.isIntersecting));\n      }\n    }, options);\n    els.forEach(el => io.observe(el));\n  });\n}","map":{"version":3,"names":["Observable","of","getScrollHeight","getScrollLeft","getScrollTop","fromMediaQuery","fetchRx","subscribeWhen","filterWhen","createIntersectionObservable","style","getComputedStyle","document","documentElement","BREAK_POINT_3","getPropertyValue","BREAK_POINT_DYNAMIC","CONTENT_WIDTH_5","parseFloat","CONTENT_MARGIN_5","DRAWER_WIDTH","HALF_CONTENT","ua","navigator","userAgent","toLowerCase","isSafari","indexOf","isMobile","isMobileSafari","isUCBrowser","isFirefox","isFirefoxIOS","hasCSSOM","Element","prototype","window","CSS","number","webComponentsReady","Promise","res","addEventListener","stylesheetReady","checkCSS","rej","retries","drawerEl","querySelector","Error","setTimeout","once","el","eventName","timeout","t","hasFeatures","features","Modernizr","every","feature","hasFeature","process","env","DEBUG","console","warn","show","display","visibility","hide","unshow","unhide","empty","firstChild","removeChild","animate","effect","timing","CustomEvent","create","observer","anim","e","next","requestAnimationFrame","complete","playState","cancel","importTemplate","templateId","template","getElementById","importNode","content","body","rem","units","fontSize","getViewWidth","innerWidth","clientWidth","getViewHeight","innerHeight","clientHeight","postMessage","worker","message","resolve","reject","messageChannel","MessageChannel","port1","onmessage","event","data","error","port2","promisifyLoad","loadFn","href","r","loadJS","loadCSS","intersectOnce","els","options","io","IntersectionObserver","entries","some","x","isIntersecting","forEach","unobserve","find","observe"],"sources":["D:/TEST/_js/src/common.js"],"sourcesContent":["// Copyright (c) 2019 Florian Klampfer <https://qwtel.com/>\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport { Observable, of } from 'rxjs';\n\n// HACK: Temporary MS Edge fix\n// TODO: Move rx-element into separate file or module\nexport { getScrollHeight, getScrollLeft, getScrollTop } from '@hydecorp/component/lib/util';\nexport { fromMediaQuery, fetchRx } from '@hydecorp/component/lib/creators';\nexport { subscribeWhen, filterWhen } from '@hydecorp/component/lib/operators';\nexport { createIntersectionObservable } from '@hydecorp/component/lib/observers';\n\nconst style = getComputedStyle(document.documentElement);\n\nexport const BREAK_POINT_3 = `(min-width: ${style.getPropertyValue('--break-point-3')})`;\nexport const BREAK_POINT_DYNAMIC = `(min-width: ${style.getPropertyValue('--break-point-dynamic')})`;\nexport const CONTENT_WIDTH_5 = parseFloat(style.getPropertyValue('--content-width-5'));\nexport const CONTENT_MARGIN_5 = parseFloat(style.getPropertyValue('--content-margin-5'));\nexport const DRAWER_WIDTH = parseFloat(style.getPropertyValue('--sidebar-width'));\nexport const HALF_CONTENT = parseFloat(style.getPropertyValue('--half-content'));\n\n// Check the user agent for Safari and iOS Safari, to give them some special treatment...\nconst ua = navigator.userAgent.toLowerCase();\nexport const isSafari = ua.indexOf('safari') > 0 && ua.indexOf('chrome') < 0;\nexport const isMobile = ua.indexOf('mobile') > 0;\nexport const isMobileSafari = isSafari && isMobile;\nexport const isUCBrowser = ua.indexOf('ucbrowser') > 0;\nexport const isFirefox = ua.indexOf('firefox') > 0;\nexport const isFirefoxIOS = ua.indexOf('fxios') > 0 && ua.indexOf('safari') > 0;\n\nexport const hasCSSOM = 'attributeStyleMap' in Element.prototype && 'CSS' in window && CSS.number;\n\nexport const webComponentsReady = new Promise((res) => {\n  if ('customElements' in window) res(true);\n  else document.addEventListener('WebComponentsReady', res);\n});\n\n// FIXME: Replace with something more robust!?\nexport const stylesheetReady = new Promise(function checkCSS(res, rej, retries = 30) {\n  const drawerEl = document.querySelector('hy-drawer');\n  if (!drawerEl) res(true);\n  else if (getComputedStyle(drawerEl).getPropertyValue('--hy-drawer-width')) res(true);\n  else if (retries <= 0) rej(Error('Stylesheet not loaded within 10 seconds'));\n  else setTimeout(() => checkCSS(res, rej, retries - 1), 1000 / 3);\n});\n\nexport const once = (el, eventName) => new Promise((res) => el.addEventListener(eventName, res, { once: true }));\nexport const timeout = (t) => new Promise((res) => setTimeout(res, t));\n\n// Takes an array of Modernizr feature tests and makes sure they all pass.\nexport function hasFeatures(features) {\n  if (!window.Modernizr) return true;\n  return [...features].every((feature) => {\n    const hasFeature = window.Modernizr[feature];\n    if (!hasFeature && process.env.DEBUG) console.warn(`Feature '${feature}' missing!`);\n    return hasFeature;\n  });\n}\n\n// Some functions to hide and show content.\nexport function show() {\n  this.style.display = 'block';\n  this.style.visibility = 'visible';\n}\n\nexport function hide() {\n  this.style.display = 'none';\n  this.style.visibility = 'hidden';\n}\n\nexport function unshow() {\n  this.style.display = '';\n  this.style.visibility = '';\n}\n\nexport const unhide = unshow;\n\n// Same as `el.innerHTML = ''`, but not quite so hacky.\nexport function empty() {\n  while (this?.firstChild) this.removeChild(this.firstChild);\n}\n\n/**\n * An observable wrapper for the WebAnimations API.\n * Will return an observable that emits once when the animation finishes.\n * @param {HTMLElement|null} el\n * @param {AnimationKeyFrame | AnimationKeyFrame[] | null} effect\n * @param {number|AnimationEffectTiming} timing\n * @returns {Observable<Event>}\n */\nexport function animate(el, effect, timing) {\n  if (!el) return of(new CustomEvent('finish'));\n\n  return Observable.create((observer) => {\n    const anim = el.animate(effect, timing);\n\n    anim.addEventListener('finish', (e) => {\n      observer.next(e);\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => observer.complete());\n      });\n    });\n\n    return () => {\n      if (anim.playState !== 'finished') anim.cancel();\n    };\n  });\n}\n\n/**\n * @param {string} templateId\n * @returns {HTMLElement|null}\n */\nexport function importTemplate(templateId) {\n  const template = document.getElementById(templateId);\n  return template && document.importNode(template.content, true);\n}\n\nexport const body = document.body || document.documentElement;\nexport const rem = (units) => units * parseFloat(getComputedStyle(body).fontSize);\nexport const getViewWidth = () => window.innerWidth || body.clientWidth;\nexport const getViewHeight = () => window.innerHeight || body.clientHeight;\n\n/**\n * @template Q\n * @template S\n * @param {Worker} worker\n * @param {Q} message\n * @returns {Promise<S>}\n */\nexport function postMessage(worker, message) {\n  return new Promise((resolve, reject) => {\n    const messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = (event) => {\n      if (event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data);\n      }\n    };\n    worker.postMessage(message, [messageChannel.port2]);\n  });\n}\n\nconst promisifyLoad = (loadFn) => (href) => new Promise((r) => loadFn(href).addEventListener('load', r));\n\n/** @type {(href: string) => Promise<Event>} */\nexport const loadJS = promisifyLoad(window.loadJS);\n\n/** @type {(href: string) => Promise<Event>} */\nexport const loadCSS = promisifyLoad(window.loadCSS);\n\n/**\n * @param {ArrayLike<Element>} els\n * @param {IntersectionObserverInit} [options]\n * @returns {Promise<IntersectionObserverEntry>}\n */\nexport function intersectOnce(els, options) {\n  return new Promise((res) => {\n    const io = new IntersectionObserver((entries) => {\n      if (entries.some((x) => x.isIntersecting)) {\n        els.forEach((el) => io.unobserve(el));\n        res(entries.find((x) => x.isIntersecting));\n      }\n    }, options);\n    els.forEach((el) => io.observe(el));\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}