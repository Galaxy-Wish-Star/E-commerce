{"ast":null,"code":"//对axios进行二次封装\nimport axios from \"axios\";\n//引入进度条插件\nimport nprogress from \"nprogress\";\n//引入进度条样式\nimport \"/node_modules/nprogress/nprogress.css\";\nconst requests = axios.request({\n  //配置对象\n  baseUrl: \"/api\",\n  timeout: 5000\n});\n\n//请求拦截器\nrequests.interceptors.request.use(config => {\n  //进度条开始\n  nprogress.start();\n  return config;\n});\n\n//响应拦截器\nrequests.interceptors.response.use(res => {\n  //成功的回调函数\n  //进度条结束\n  nprogress.done();\n  return res.data;\n}, Error => {\n  //失败的回调函数\n  return Promise.reject(new Error(\"faile\"));\n});\nexport default requests;","map":{"version":3,"names":["axios","nprogress","requests","request","baseUrl","timeout","interceptors","use","config","start","response","res","done","data","Error","Promise","reject"],"sources":["D:/E-commerce/src/api/request.js"],"sourcesContent":["//对axios进行二次封装\r\nimport axios from \"axios\";\r\n//引入进度条插件\r\nimport nprogress from \"nprogress\";\r\n//引入进度条样式\r\nimport \"/node_modules/nprogress/nprogress.css\"\r\n\r\nconst requests = axios.request({\r\n    //配置对象\r\n    baseUrl: \"/api\",\r\n    timeout: 5000,\r\n});\r\n\r\n//请求拦截器\r\nrequests.interceptors.request.use((config) => {\r\n    //进度条开始\r\n    nprogress.start()\r\n    return config;\r\n});\r\n\r\n//响应拦截器\r\nrequests.interceptors.response.use(\r\n    (res) => {\r\n        //成功的回调函数\r\n        //进度条结束\r\n        nprogress.done()\r\n        return res.data;\r\n    },\r\n    (Error) => {\r\n        //失败的回调函数\r\n        return Promise.reject(new Error(\"faile\"));\r\n    },\r\n);\r\n\r\nexport default requests;\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,OAAOC,SAAS,MAAM,WAAW;AACjC;AACA,OAAO,uCAAuC;AAE9C,MAAMC,QAAQ,GAAGF,KAAK,CAACG,OAAO,CAAC;EAC3B;EACAC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;AACb,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACH,OAAO,CAACI,GAAG,CAAEC,MAAM,IAAK;EAC1C;EACAP,SAAS,CAACQ,KAAK,EAAE;EACjB,OAAOD,MAAM;AACjB,CAAC,CAAC;;AAEF;AACAN,QAAQ,CAACI,YAAY,CAACI,QAAQ,CAACH,GAAG,CAC7BI,GAAG,IAAK;EACL;EACA;EACAV,SAAS,CAACW,IAAI,EAAE;EAChB,OAAOD,GAAG,CAACE,IAAI;AACnB,CAAC,EACAC,KAAK,IAAK;EACP;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIF,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7C,CAAC,CACJ;AAED,eAAeZ,QAAQ"},"metadata":{},"sourceType":"module"}